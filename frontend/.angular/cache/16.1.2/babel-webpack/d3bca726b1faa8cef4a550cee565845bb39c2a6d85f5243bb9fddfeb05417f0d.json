{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/book.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nexport class BookFormComponent {\n  constructor(bookService, route, router) {\n    this.bookService = bookService;\n    this.route = route;\n    this.router = router;\n    this.book = {\n      id: 0,\n      nome: '',\n      categoria: '',\n      valor: 0,\n      quantidadeEstoque: 0\n    };\n    this.isNew = true;\n  }\n  ngOnInit() {\n    this.isNew = !this.route.snapshot.paramMap.has('id');\n    if (!this.isNew) {\n      const idParam = this.route.snapshot.paramMap.get('id');\n      const id = idParam ? +idParam : 0;\n      this.getBook(id);\n    }\n  }\n  submitForm() {\n    if (this.isNew) {\n      this.createBook();\n    } else {\n      this.updateBook();\n    }\n  }\n  createBook() {\n    this.bookService.createBook(this.book).subscribe(() => this.router.navigate(['/books']));\n  }\n  updateBook() {\n    this.bookService.updateBook(this.book.id, this.book).subscribe(() => this.router.navigate(['/books']));\n  }\n  getBook(id) {\n    this.bookService.getBook(id).subscribe(book => {\n      this.book = book; // Atribui o livro retornado diretamente à propriedade this.book\n    });\n  }\n}\n\nBookFormComponent.ɵfac = function BookFormComponent_Factory(t) {\n  return new (t || BookFormComponent)(i0.ɵɵdirectiveInject(i1.BookService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router));\n};\nBookFormComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: BookFormComponent,\n  selectors: [[\"app-book-form\"]],\n  decls: 20,\n  vars: 6,\n  consts: [[3, \"submit\"], [\"type\", \"text\", \"name\", \"nome\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"autor\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"number\", \"name\", \"descricao\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\"], [3, \"routerLink\"]],\n  template: function BookFormComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h2\");\n      i0.ɵɵtext(1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"form\", 0);\n      i0.ɵɵlistener(\"submit\", function BookFormComponent_Template_form_submit_2_listener() {\n        return ctx.submitForm();\n      });\n      i0.ɵɵelementStart(3, \"div\")(4, \"label\");\n      i0.ɵɵtext(5, \"Name:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"input\", 1);\n      i0.ɵɵlistener(\"ngModelChange\", function BookFormComponent_Template_input_ngModelChange_6_listener($event) {\n        return ctx.book.nome = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"div\")(8, \"label\");\n      i0.ɵɵtext(9, \"Category:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"input\", 2);\n      i0.ɵɵlistener(\"ngModelChange\", function BookFormComponent_Template_input_ngModelChange_10_listener($event) {\n        return ctx.book.categoria = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(11, \"div\")(12, \"label\");\n      i0.ɵɵtext(13, \"Value:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"input\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function BookFormComponent_Template_input_ngModelChange_14_listener($event) {\n        return ctx.book.valor = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(15, \"div\")(16, \"button\", 4);\n      i0.ɵɵtext(17);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"a\", 5);\n      i0.ɵɵtext(19, \"Cancel\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵtextInterpolate1(\"\", ctx.isNew ? \"Create\" : \"Edit\", \" Book\");\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.book.nome);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.book.categoria);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.book.valor);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate(ctx.isNew ? \"Create\" : \"Update\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"routerLink\", \"/books\");\n    }\n  },\n  dependencies: [i2.RouterLink, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["BookFormComponent","constructor","bookService","route","router","book","id","nome","categoria","valor","quantidadeEstoque","isNew","ngOnInit","snapshot","paramMap","has","idParam","get","getBook","submitForm","createBook","updateBook","subscribe","navigate","i0","ɵɵdirectiveInject","i1","BookService","i2","ActivatedRoute","Router","selectors","decls","vars","consts","template","BookFormComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","BookFormComponent_Template_form_submit_2_listener","BookFormComponent_Template_input_ngModelChange_6_listener","$event","BookFormComponent_Template_input_ngModelChange_10_listener","BookFormComponent_Template_input_ngModelChange_14_listener","ɵɵadvance","ɵɵtextInterpolate1","ɵɵproperty","ɵɵtextInterpolate"],"sources":["C:\\Users\\Thais Bykoski\\Documents\\Projetos\\teste-thais-bykoski\\frontend\\src\\app\\book-form\\book-form.component.ts","C:\\Users\\Thais Bykoski\\Documents\\Projetos\\teste-thais-bykoski\\frontend\\src\\app\\book-form\\book-form.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Book } from '../models/book.model';\r\nimport { BookService } from '../services/book.service';\r\n\r\n@Component({\r\n  selector: 'app-book-form',\r\n  templateUrl: './book-form.component.html',\r\n  styleUrls: ['./book-form.component.css']\r\n})\r\nexport class BookFormComponent implements OnInit {  \r\n  book: Book = {\r\n    id: 0,\r\n    nome: '',\r\n    categoria: '',\r\n    valor: 0,\r\n    quantidadeEstoque: 0,\r\n  };\r\n  \r\n  isNew = true;\r\n\r\n  constructor(\r\n    private bookService: BookService,\r\n    private route: ActivatedRoute,\r\n    private router: Router\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.isNew = !this.route.snapshot.paramMap.has('id');\r\n    if (!this.isNew) {\r\n      const idParam = this.route.snapshot.paramMap.get('id');\r\n      const id = idParam ? +idParam : 0;\r\n      this.getBook(id);\r\n    }\r\n  }\r\n\r\n  submitForm(): void {\r\n    if (this.isNew) {\r\n      this.createBook();\r\n    } else {\r\n      this.updateBook();\r\n    }\r\n  }\r\n\r\n  createBook(): void {\r\n    this.bookService.createBook(this.book)\r\n      .subscribe(() => this.router.navigate(['/books']));\r\n  }\r\n\r\n  updateBook(): void {\r\n    this.bookService.updateBook(this.book.id, this.book)\r\n      .subscribe(() => this.router.navigate(['/books']));\r\n  }\r\n\r\n  private getBook(id: number): void {\r\n    this.bookService.getBook(id)\r\n      .subscribe((book: Book) => {\r\n        this.book = book; // Atribui o livro retornado diretamente à propriedade this.book\r\n      });\r\n  }\r\n  \r\n}\r\n","<h2>{{ isNew ? 'Create' : 'Edit' }} Book</h2>\r\n\r\n<form (submit)=\"submitForm()\">\r\n  <div>\r\n    <label>Name:</label>\r\n    <input type=\"text\" [(ngModel)]=\"book.nome\" name=\"nome\" required>\r\n  </div>\r\n  <div>\r\n    <label>Category:</label>\r\n    <input type=\"text\" [(ngModel)]=\"book.categoria\" name=\"autor\" required>\r\n  </div>\r\n  <div>\r\n    <label>Value:</label>\r\n    <input type=\"number\" [(ngModel)]=\"book.valor\" name=\"descricao\" required>\r\n  </div>\r\n  <div>\r\n    <button type=\"submit\">{{ isNew ? 'Create' : 'Update' }}</button>\r\n    <a [routerLink]=\"'/books'\">Cancel</a>\r\n  </div>\r\n</form>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}